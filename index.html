---
title: home
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { Client } from 'https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js';

  async function loaded(file) {
    try {
      /*console.log(file);
      const client = await Client.connect("kireshanth/cat-dog-classifier");

      const app_info = await client.view_api();

      console.log(app_info);

      // Ensure the data is in the format expected by the predict method
      const result = await client.predict({
        img: file // Passing the File object directly
      });

      // Display the result in the results div
      document.getElementById('results').innerText = JSON.stringify(result.data)
      
    */

    const response_0 = await fetch("https://raw.githubusercontent.com/gradio-app/gradio/main/test/test_files/bus.png");
    console.log(response_0)
    const exampleImage = await response_0.blob();
                
    const client = await Client.connect("kireshanth/cat-dog-classifier");
    const result = await client.predict("/predict", { 
            img: exampleImage, 
    });

    console.log(result.data);

  
  } catch (error) {
      console.error('Error:', error);
      document.getElementById('results').innerText = 'An error occurred: ' + error.message;
    } 
  }

  function read() {
    const fileInput = document.getElementById('photo');
    if (fileInput.files.length > 0) {
      const file = fileInput.files[0];
      loaded(file); // Pass the File object directly
    }
  }

  document.getElementById('photo').addEventListener('change', read);
</script>
