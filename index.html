---
title: home
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { Client } from 'https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js';

  async function loaded(file) {
    try {
      console.log(file);
      const client = await Client.connect("kireshanth/cat-dog-classifier");

      // Ensure the data is in the format expected by the predict method
      const result = await client.predict({
        img: file // Passing the File object directly
      });

      console.log(result.data);

      // Display the result in the results div
      document.getElementById('results').innerText = JSON.stringify(result.data);
    } catch (error) {
      console.error('Error:', error);
      document.getElementById('results').innerText = 'An error occurred: ' + error.message;
    }
  }

  function read() {
    const fileInput = document.getElementById('photo');
    if (fileInput.files.length > 0) {
      const file = fileInput.files[0];
      console.log(file)
      loaded(file); // Pass the File object directly
    }
  }

  document.getElementById('photo').addEventListener('change', read);
</script>
