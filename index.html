---
title: home
layout: page
---

<input id="photo" type="file">
<div id="results"></div>
<script type="module">
  import { Client } from "@gradio/client";
  console.log(Client)
  async function loaded(reader) {
    try {
      const client = await Client.connect("kireshanth/cat-dog-classifier");
      const result = await client.predict("/predict", { 
        img: reader.result
      });
      console.log(result.data);

      // Display the result in the results div
      document.getElementById('results').innerText = JSON.stringify(result.data);
    } catch (error) {
      console.error('Error:', error);
      document.getElementById('results').innerText = 'An error occurred: ' + error.message;
    }
  }

  function read() {
    const reader = new FileReader();
    reader.addEventListener('load', () => loaded(reader));
    reader.readAsDataURL(document.getElementById('photo').files[0]);
  }

  document.getElementById('photo').addEventListener('change', read); 
</script>
